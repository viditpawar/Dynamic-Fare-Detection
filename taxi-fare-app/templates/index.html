<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NYC Taxi Fare Estimator</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">
    <header class="header">
        <h1>NYC Taxi Fare Estimator ðŸš•</h1>
        <p class="subtitle">
            Predict your yellow or green taxi fare before you ride
        </p>
    </header>

    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}

    {% if prediction %}
        <div class="result-card">
            <p class="result-label">Estimated Fare</p>
            <p class="fare">${{ prediction }}</p>
            <p class="result-meta">
                Includes distance, time, location & passenger factors
            </p>
        </div>
    {% endif %}

    <form action="/predict" method="post" class="form">

        <div class="form-group">
            <label>Pickup Zone</label>
            <input list="zones" name="pickup_zone" placeholder="Select pickup zone" required>
        </div>

        <div class="form-group">
            <label>Dropoff Zone</label>
            <input list="zones" name="dropoff_zone" placeholder="Select dropoff zone" required>
        </div>

        <datalist id="zones">
            {% for z in zones %}
                <option value="{{ z }}">
            {% endfor %}
        </datalist>

        <div class="form-row">
            <div class="form-group">
                <label>Pickup Date</label>
                <input type="date" name="pickup_date" required>
            </div>

            <div class="form-group">
                <label>Pickup Time</label>
                <input type="time" name="pickup_time" required>
            </div>
        </div>

        <div class="form-group">
            <label>Passenger Count</label>
            <select name="passengers" required>
                {% for n in [1,2,3,4,5,6] %}
                    <option value="{{ n }}">{{ n }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="primary-btn">
            Predict Fare
        </button>
    </form>

    <footer class="footer">
        <p>
            Powered by <strong>LightGBM</strong> Â· <strong>Mapbox</strong> Â· <strong>FastAPI</strong>
        </p>
        <p>
            Deployed on <strong>DigitalOcean</strong> Â· PostgreSQL-backed inference cache
        </p>
    </footer>
</div>

</body>
</html>
